# Bull's Eye - Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# OLLAMA CLOUD API (REQUIRED)
# =============================================================================
# Get your API key from https://ollama.com
OLLAMA_API_KEY=your-ollama-api-key-here

# Default model for analysis (user can select different models in the UI)
# Available models: deepseek-r1, deepseek-r1:70b, deepseek-r1:32b, deepseek-r1:14b,
#                   deepseek-r1:8b, deepseek-r1:7b, deepseek-r1:1.5b, deepseek-v3,
#                   llama3.3, llama3.3:70b, llama3.2, llama3.2:3b, llama3.2:1b,
#                   llama3.1, llama3.1:405b, llama3.1:70b, llama3.1:8b, qwen2.5,
#                   qwen2.5:72b, qwen2.5:32b, qwen2.5:14b, qwen2.5:7b, qwen2.5:3b,
#                   qwen2.5:1.5b, qwen2.5:0.5b, qwen2.5-coder, qwen2.5-coder:32b,
#                   qwen2.5-coder:14b, qwen2.5-coder:7b, qwen2.5-coder:3b,
#                   qwen2.5-coder:1.5b, qwen2.5-coder:0.5b, gemma3, gemma3:27b,
#                   gemma3:12b, gemma3:4b, gemma3:1b, gemma2, gemma2:27b, gemma2:9b,
#                   gemma2:2b, phi4, phi4:14b, mistral, mistral:7b
OLLAMA_MODEL=qwen2.5-coder:7b

# Optional: override model list in the UI (comma-separated or JSON array)
# OLLAMA_MODELS=deepseek-v3.2:cloud,gpt-oss:120b-cloud,kimi-k2-thinking:cloud

# =============================================================================
# REDIS
# =============================================================================
REDIS_URL=redis://redis:6379/0

# =============================================================================
# WORKER SETTINGS
# =============================================================================
# Directory where repositories are cloned for analysis
CLONE_BASE_DIR=/tmp/repos

# Maximum file size to analyze (in KB)
MAX_FILE_SIZE_KB=500

# Maximum files per component
MAX_FILES_PER_COMPONENT=50

# Analysis timeout in seconds
ANALYSIS_TIMEOUT=3600

# Enable/disable LLM analysis (set to false for faster scans)
ENABLE_LLM_ANALYSIS=true

# Enable context-aware analysis with cross-file relationships (EXPERIMENTAL)
# When true, analyzes files with full codebase context and import relationships
ENABLE_CONTEXT_AWARE_ANALYSIS=false

# Maximum related files to include in context for context-aware analysis
MAX_CONTEXT_FILES=10

# Concurrent analysis workers
CELERY_WORKER_CONCURRENCY=2

# =============================================================================
# N8N SETTINGS
# =============================================================================
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=change-me-in-production

# External URL for n8n (used in webhook URLs)
N8N_HOST=localhost
N8N_PORT=5678
WEBHOOK_URL=http://n8n:5678

# =============================================================================
# WEB UI SETTINGS
# =============================================================================
# Internal API URL used by the Next.js rewrite proxy
# INTERNAL_API_URL=http://worker-api:8000  # docker-compose
# INTERNAL_API_URL=http://localhost:8000   # local dev

# Optional: direct API base for the browser (bypasses proxy)
# NEXT_PUBLIC_API_URL=http://localhost:8000

# Web UI port
WEB_PORT=3000

# =============================================================================
# GITHUB INTEGRATION (Optional)
# =============================================================================
# GitHub token for private repositories
# GITHUB_TOKEN=ghp_xxxxxxxxxxxx

# GitHub webhook secret (for verifying webhook payloads)
# GITHUB_WEBHOOK_SECRET=your-webhook-secret

# =============================================================================
# GITLAB INTEGRATION (Optional)
# =============================================================================
# GITLAB_TOKEN=glpat-xxxxxxxxxxxx
# GITLAB_WEBHOOK_SECRET=your-webhook-secret

# =============================================================================
# NOTIFICATIONS (Optional)
# =============================================================================
# Slack webhook for notifications
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxx/xxx/xxx

# Email settings (SMTP)
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=notifications@example.com
# SMTP_PASSWORD=your-password
# SMTP_FROM=bulls-eye@example.com
# SMTP_TO=security-team@example.com

# =============================================================================
# SCANNER SETTINGS
# =============================================================================
# Enable/disable specific scanners (comma-separated)
ENABLED_SCANNERS=gitleaks,semgrep,trivy,python,go,rust,javascript

# Semgrep configuration
# SEMGREP_RULES=auto  # or p/security-audit, p/owasp-top-ten, etc.

# Trivy settings
# TRIVY_SEVERITY=CRITICAL,HIGH,MEDIUM

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=INFO
# LOG_FORMAT=json  # for production
